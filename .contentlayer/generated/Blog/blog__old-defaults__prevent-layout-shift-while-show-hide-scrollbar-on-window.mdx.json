{
  "title": "Prevent layout shift when toggling scrollbar on Window",
  "date": "2021-08-16T00:00:00.000Z",
  "tags": [
    "css",
    "tricks",
    "layout-shift",
    "scrollbar",
    "window"
  ],
  "lastmod": "2024-11-07T00:00:00.000Z",
  "summary": "When toggling the scrollbar on the Window, the layout shifts. This is because the scrollbar is added to the Window. How to prevent this with CSS?",
  "images": [
    "/static/images/banners/macbook-pro-on-brown-wooden-table__vinayak_125__AWSHg2mK-Ho.jpeg"
  ],
  "authors": [
    "default"
  ],
  "body": {
    "raw": "\nWhen will the scrollbar toggle? For example:\n\n- Open a `Modal`, `Popup`, or `Drawer` with a lot of content and prevent the user from scrolling the `Window`.\n- Toggle an `Accordion` or a `Tab` which expands the document height that leads to shows up the scrollbar.\n- ...\n\nOn **Window** devices, these cases will cause the layout shift. This is because the scrollbar is added to the `Window` which makes the `Window`'s width smaller.\nThis experience is not good for the user.\n\nSo let's prevent this layout shift with CSS.\n\n## The classic fix\n\n```css:global.css showLineNumbers\nhtml {\n  overflow-y: scroll;\n}\n```\n\nThe classic fix is to add the `overflow-y: scroll` to the `html` element. This will always show the scrollbar on the `Window` (even if the content's height is smaller than the viewport's height).\n\nThe scrollbar in this case will always be visible. And its background turns to gray (if the `Window` isn't scrollable).\n\nAnd of course, I don't recommend this solution <Twemoji emoji=\"grinning-face-with-sweat\" /> cause I think it looks bad as the original problem.\n\n## Using view width\n\nA better solution is to add an invisible `margin-left` to the `html` element with the same width as the scrollbar.\nThis `margin-left` will be visible when the scrollbar is added to the `Window` and invisible when the scrollbar is removed from the `Window`.\n\nBut how to get the scrollbar's width <Twemoji emoji=\"thinking-face\" />?\n\nThe answer is to use the `vw` unit.\n\nIf you don't know yet, `vw` or [view width](https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Values_and_units#relative_length_units) is a **CSS** unit just like `px`, `%`, or `rem` but it's relative to the viewport's width.\n`100vw` is equivalent to `100%` of the viewport's width (including the scrollbar), and `100%` width (for the `html` element) is equivalent to 100% of the viewport's width (without the scrollbar) <Twemoji emoji=\"exploding-head\" />\n\nSo, we can calculate the width of the scrollbar by subtracting the `100%` width from the `100vw` width with the CSS's `calc()` function like this:\n\n```css:global.css showLineNumbers\nhtml {\n  margin-left: calc(100vw - 100%);\n}\n```\n\nThe `margin-left` value will equal `0` when the `Window` isn't scrollable and equal to the scrollbar's width when the `Window` is scrollable.\n\n> [!NOTE]\n> If you use this way to prevent layout shift and your application has a `fixed`'s element (like a **Popup** or a **Modal**) which prevents Window scroll with the `overflow-y: hidden` style when it's open,\n> then you should also add the `margin-left` to the `fixed` element as well.\n\nFor example:\n\n```css:global.css showLineNumbers\nhtml,\n.popup-overlay,\n.modal-overlay {\n  margin-left: calc(100vw - 100%);\n}\n```\n\nAnother solution is to set the width of the `html` element to `100vw` and prevent horizontal scroll:\n\n```css:global.css showLineNumbers\nhtml {\n  width: 100vw;\n  overflow-x: hidden;\n}\n```\n\nThis solution only makes sense if your application doesn't have to scroll horizontally (like a blog or a documentation website).\nAnd I'm using this in my blog, you can open the `devtool` and check the `html` styles to see it <Twemoji emoji=\"beaming-face-with-smiling-eyes\" />.\n\n## The no-code way <Twemoji emoji=\"star-struck\" size=\"base\" />\n\nThere are 2 ways to prevent layout shift without writing any CSS code:\n\n- The first one is to tell your users not to use **Window** device and to use a **Mac** or a **Linux** device instead <Twemoji emoji=\"grinning-squinting-face\" />\n\n- The second one is to just... leave it as it is, sometimes it's not a big deal, and your user doesn't actually care about that <Twemoji emoji=\"man-shrugging\" />\n\nIf you have any other solutions, please let me know in the comments below.\n\nHappy styling <Twemoji emoji=\"clinking-beer-mugs\" />\n",
    "code": "var Component=(()=>{var g=Object.create;var s=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty;var y=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),b=(l,e)=>{for(var h in e)s(l,h,{get:e[h],enumerable:!0})},n=(l,e,h,t)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of m(e))!w.call(l,a)&&a!==h&&s(l,a,{get:()=>e[a],enumerable:!(t=p(e,a))||t.enumerable});return l};var B=(l,e,h)=>(h=l!=null?g(u(l)):{},n(e||!l||!l.__esModule?s(h,\"default\",{value:l,enumerable:!0}):h,l)),f=l=>n(s({},\"__esModule\",{value:!0}),l);var r=y((F,d)=>{d.exports=_jsx_runtime});var A={};b(A,{default:()=>k,frontmatter:()=>v});var i=B(r()),v={title:\"Prevent layout shift when toggling scrollbar on Window\",date:\"2021-08-16\",lastmod:\"2024-11-07\",tags:[\"css\",\"tricks\",\"layout-shift\",\"scrollbar\",\"window\"],summary:\"When toggling the scrollbar on the Window, the layout shifts. This is because the scrollbar is added to the Window. How to prevent this with CSS?\",images:[\"/static/images/banners/macbook-pro-on-brown-wooden-table__vinayak_125__AWSHg2mK-Ho.jpeg\"],authors:[\"default\"]};function c(l){let e={a:\"a\",code:\"code\",div:\"div\",figure:\"figure\",h2:\"h2\",li:\"li\",p:\"p\",path:\"path\",pre:\"pre\",span:\"span\",strong:\"strong\",svg:\"svg\",ul:\"ul\",...l.components},{CodeTitle:h,Twemoji:t}=e;return h||o(\"CodeTitle\",!0),t||o(\"Twemoji\",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.p,{children:\"When will the scrollbar toggle? For example:\"}),(0,i.jsxs)(e.ul,{children:[(0,i.jsxs)(e.li,{children:[\"Open a \",(0,i.jsx)(e.code,{children:\"Modal\"}),\", \",(0,i.jsx)(e.code,{children:\"Popup\"}),\", or \",(0,i.jsx)(e.code,{children:\"Drawer\"}),\" with a lot of content and prevent the user from scrolling the \",(0,i.jsx)(e.code,{children:\"Window\"}),\".\"]}),(0,i.jsxs)(e.li,{children:[\"Toggle an \",(0,i.jsx)(e.code,{children:\"Accordion\"}),\" or a \",(0,i.jsx)(e.code,{children:\"Tab\"}),\" which expands the document height that leads to shows up the scrollbar.\"]}),(0,i.jsx)(e.li,{children:\"...\"})]}),(0,i.jsxs)(e.p,{children:[\"On \",(0,i.jsx)(e.strong,{children:\"Window\"}),\" devices, these cases will cause the layout shift. This is because the scrollbar is added to the \",(0,i.jsx)(e.code,{children:\"Window\"}),\" which makes the \",(0,i.jsx)(e.code,{children:\"Window\"}),\"'s width smaller. This experience is not good for the user.\"]}),(0,i.jsx)(e.p,{children:\"So let's prevent this layout shift with CSS.\"}),(0,i.jsxs)(e.h2,{className:\"content-header\",id:\"the-classic-fix\",children:[(0,i.jsx)(e.a,{href:\"#the-classic-fix\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.span,{className:\"content-header-link\",children:(0,i.jsxs)(e.svg,{viewBox:\"0 0 20 20\",className:\"h-5 linkicon w-5\",fill:\"currentColor\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,i.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,i.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"The classic fix\"]}),(0,i.jsx)(h,{lang:\"css\",title:\"global.css\"}),(0,i.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,i.jsx)(e.pre,{\"data-language\":\"css\",\"data-theme\":\"github-dark-dimmed solarized-light\",style:{\"--shiki-dark\":\"#adbac7\",\"--shiki-light\":\"#657B83\",\"--shiki-dark-bg\":\"#22272e\",\"--shiki-light-bg\":\"#FDF6E3\"},tabIndex:\"0\",children:(0,i.jsxs)(e.code,{\"data-language\":\"css\",\"data-line-numbers\":\"\",\"data-line-numbers-max-digits\":\"1\",\"data-theme\":\"github-dark-dimmed solarized-light\",style:{display:\"grid\"},children:[(0,i.jsxs)(e.span,{\"data-line\":\"\",children:[(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#8DDB8C\",\"--shiki-light\":\"#268BD2\"},children:\"html\"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#657B83\"},children:\" {\"})]}),`\n`,(0,i.jsxs)(e.span,{\"data-line\":\"\",children:[(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#859900\"},children:\"  overflow-y\"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#657B83\"},children:\": \"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#657B83\"},children:\"scroll\"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#657B83\"},children:\";\"})]}),`\n`,(0,i.jsx)(e.span,{\"data-line\":\"\",children:(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#657B83\"},children:\"}\"})})]})})}),(0,i.jsxs)(e.p,{children:[\"The classic fix is to add the \",(0,i.jsx)(e.code,{children:\"overflow-y: scroll\"}),\" to the \",(0,i.jsx)(e.code,{children:\"html\"}),\" element. This will always show the scrollbar on the \",(0,i.jsx)(e.code,{children:\"Window\"}),\" (even if the content's height is smaller than the viewport's height).\"]}),(0,i.jsxs)(e.p,{children:[\"The scrollbar in this case will always be visible. And its background turns to gray (if the \",(0,i.jsx)(e.code,{children:\"Window\"}),\" isn't scrollable).\"]}),(0,i.jsxs)(e.p,{children:[\"And of course, I don't recommend this solution \",(0,i.jsx)(t,{emoji:\"grinning-face-with-sweat\"}),\"cause I think it looks bad as the original problem.\"]}),(0,i.jsxs)(e.h2,{className:\"content-header\",id:\"using-view-width\",children:[(0,i.jsx)(e.a,{href:\"#using-view-width\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.span,{className:\"content-header-link\",children:(0,i.jsxs)(e.svg,{viewBox:\"0 0 20 20\",className:\"h-5 linkicon w-5\",fill:\"currentColor\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,i.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,i.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Using view width\"]}),(0,i.jsxs)(e.p,{children:[\"A better solution is to add an invisible \",(0,i.jsx)(e.code,{children:\"margin-left\"}),\" to the \",(0,i.jsx)(e.code,{children:\"html\"}),\" element with the same width as the scrollbar. This \",(0,i.jsx)(e.code,{children:\"margin-left\"}),\" will be visible when the scrollbar is added to the \",(0,i.jsx)(e.code,{children:\"Window\"}),\" and invisible when the scrollbar is removed from the \",(0,i.jsx)(e.code,{children:\"Window\"}),\".\"]}),(0,i.jsxs)(e.p,{children:[\"But how to get the scrollbar's width \",(0,i.jsx)(t,{emoji:\"thinking-face\"}),\"?\"]}),(0,i.jsxs)(e.p,{children:[\"The answer is to use the \",(0,i.jsx)(e.code,{children:\"vw\"}),\" unit.\"]}),(0,i.jsxs)(e.p,{children:[\"If you don't know yet, \",(0,i.jsx)(e.code,{children:\"vw\"}),\" or \",(0,i.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Values_and_units#relative_length_units\",children:\"view width\"}),\" is a \",(0,i.jsx)(e.strong,{children:\"CSS\"}),\" unit just like \",(0,i.jsx)(e.code,{children:\"px\"}),\", \",(0,i.jsx)(e.code,{children:\"%\"}),\", or \",(0,i.jsx)(e.code,{children:\"rem\"}),\" but it's relative to the viewport's width. \",(0,i.jsx)(e.code,{children:\"100vw\"}),\" is equivalent to \",(0,i.jsx)(e.code,{children:\"100%\"}),\" of the viewport's width (including the scrollbar), and \",(0,i.jsx)(e.code,{children:\"100%\"}),\" width (for the \",(0,i.jsx)(e.code,{children:\"html\"}),\" element) is equivalent to 100% of the viewport's width (without the scrollbar) \",(0,i.jsx)(t,{emoji:\"exploding-head\"})]}),(0,i.jsxs)(e.p,{children:[\"So, we can calculate the width of the scrollbar by subtracting the \",(0,i.jsx)(e.code,{children:\"100%\"}),\" width from the \",(0,i.jsx)(e.code,{children:\"100vw\"}),\" width with the CSS's \",(0,i.jsx)(e.code,{children:\"calc()\"}),\" function like this:\"]}),(0,i.jsx)(h,{lang:\"css\",title:\"global.css\"}),(0,i.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,i.jsx)(e.pre,{\"data-language\":\"css\",\"data-theme\":\"github-dark-dimmed solarized-light\",style:{\"--shiki-dark\":\"#adbac7\",\"--shiki-light\":\"#657B83\",\"--shiki-dark-bg\":\"#22272e\",\"--shiki-light-bg\":\"#FDF6E3\"},tabIndex:\"0\",children:(0,i.jsxs)(e.code,{\"data-language\":\"css\",\"data-line-numbers\":\"\",\"data-line-numbers-max-digits\":\"1\",\"data-theme\":\"github-dark-dimmed solarized-light\",style:{display:\"grid\"},children:[(0,i.jsxs)(e.span,{\"data-line\":\"\",children:[(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#8DDB8C\",\"--shiki-light\":\"#268BD2\"},children:\"html\"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#657B83\"},children:\" {\"})]}),`\n`,(0,i.jsxs)(e.span,{\"data-line\":\"\",children:[(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#859900\"},children:\"  margin-left\"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#657B83\"},children:\": \"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#268BD2\"},children:\"calc\"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#657B83\"},children:\"(\"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#D33682\"},children:\"100\"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#F47067\",\"--shiki-light\":\"#859900\"},children:\"vw\"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#F47067\",\"--shiki-light\":\"#859900\"},children:\" -\"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#D33682\"},children:\" 100\"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#F47067\",\"--shiki-light\":\"#859900\"},children:\"%\"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#657B83\"},children:\");\"})]}),`\n`,(0,i.jsx)(e.span,{\"data-line\":\"\",children:(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#657B83\"},children:\"}\"})})]})})}),(0,i.jsxs)(e.p,{children:[\"The \",(0,i.jsx)(e.code,{children:\"margin-left\"}),\" value will equal \",(0,i.jsx)(e.code,{children:\"0\"}),\" when the \",(0,i.jsx)(e.code,{children:\"Window\"}),\" isn't scrollable and equal to the scrollbar's width when the \",(0,i.jsx)(e.code,{children:\"Window\"}),\" is scrollable.\"]}),(0,i.jsxs)(e.div,{className:\"markdown-alert markdown-alert-note\",dir:\"auto\",children:[(0,i.jsxs)(e.p,{className:\"markdown-alert-title\",dir:\"auto\",children:[(0,i.jsx)(e.svg,{viewBox:\"0 0 16 16\",\"aria-hidden\":\"true\",className:\"octicon\",height:\"16\",width:\"16\",children:(0,i.jsx)(e.path,{d:\"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z\"})}),\"NOTE\"]}),(0,i.jsxs)(e.p,{children:[\"If you use this way to prevent layout shift and your application has a \",(0,i.jsx)(e.code,{children:\"fixed\"}),\"'s element (like a \",(0,i.jsx)(e.strong,{children:\"Popup\"}),\" or a \",(0,i.jsx)(e.strong,{children:\"Modal\"}),\") which prevents Window scroll with the \",(0,i.jsx)(e.code,{children:\"overflow-y: hidden\"}),\" style when it's open, then you should also add the \",(0,i.jsx)(e.code,{children:\"margin-left\"}),\" to the \",(0,i.jsx)(e.code,{children:\"fixed\"}),\" element as well.\"]})]}),(0,i.jsx)(e.p,{children:\"For example:\"}),(0,i.jsx)(h,{lang:\"css\",title:\"global.css\"}),(0,i.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,i.jsx)(e.pre,{\"data-language\":\"css\",\"data-theme\":\"github-dark-dimmed solarized-light\",style:{\"--shiki-dark\":\"#adbac7\",\"--shiki-light\":\"#657B83\",\"--shiki-dark-bg\":\"#22272e\",\"--shiki-light-bg\":\"#FDF6E3\"},tabIndex:\"0\",children:(0,i.jsxs)(e.code,{\"data-language\":\"css\",\"data-line-numbers\":\"\",\"data-line-numbers-max-digits\":\"1\",\"data-theme\":\"github-dark-dimmed solarized-light\",style:{display:\"grid\"},children:[(0,i.jsxs)(e.span,{\"data-line\":\"\",children:[(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#8DDB8C\",\"--shiki-light\":\"#268BD2\"},children:\"html\"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#657B83\"},children:\",\"})]}),`\n`,(0,i.jsxs)(e.span,{\"data-line\":\"\",children:[(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#93A1A1\"},children:\".popup-overlay\"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#657B83\"},children:\",\"})]}),`\n`,(0,i.jsxs)(e.span,{\"data-line\":\"\",children:[(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#93A1A1\"},children:\".modal-overlay\"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#657B83\"},children:\" {\"})]}),`\n`,(0,i.jsxs)(e.span,{\"data-line\":\"\",children:[(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#859900\"},children:\"  margin-left\"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#657B83\"},children:\": \"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#268BD2\"},children:\"calc\"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#657B83\"},children:\"(\"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#D33682\"},children:\"100\"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#F47067\",\"--shiki-light\":\"#859900\"},children:\"vw\"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#F47067\",\"--shiki-light\":\"#859900\"},children:\" -\"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#D33682\"},children:\" 100\"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#F47067\",\"--shiki-light\":\"#859900\"},children:\"%\"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#657B83\"},children:\");\"})]}),`\n`,(0,i.jsx)(e.span,{\"data-line\":\"\",children:(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#657B83\"},children:\"}\"})})]})})}),(0,i.jsxs)(e.p,{children:[\"Another solution is to set the width of the \",(0,i.jsx)(e.code,{children:\"html\"}),\" element to \",(0,i.jsx)(e.code,{children:\"100vw\"}),\" and prevent horizontal scroll:\"]}),(0,i.jsx)(h,{lang:\"css\",title:\"global.css\"}),(0,i.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,i.jsx)(e.pre,{\"data-language\":\"css\",\"data-theme\":\"github-dark-dimmed solarized-light\",style:{\"--shiki-dark\":\"#adbac7\",\"--shiki-light\":\"#657B83\",\"--shiki-dark-bg\":\"#22272e\",\"--shiki-light-bg\":\"#FDF6E3\"},tabIndex:\"0\",children:(0,i.jsxs)(e.code,{\"data-language\":\"css\",\"data-line-numbers\":\"\",\"data-line-numbers-max-digits\":\"1\",\"data-theme\":\"github-dark-dimmed solarized-light\",style:{display:\"grid\"},children:[(0,i.jsxs)(e.span,{\"data-line\":\"\",children:[(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#8DDB8C\",\"--shiki-light\":\"#268BD2\"},children:\"html\"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#657B83\"},children:\" {\"})]}),`\n`,(0,i.jsxs)(e.span,{\"data-line\":\"\",children:[(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#859900\"},children:\"  width\"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#657B83\"},children:\": \"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#D33682\"},children:\"100\"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#F47067\",\"--shiki-light\":\"#859900\"},children:\"vw\"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#657B83\"},children:\";\"})]}),`\n`,(0,i.jsxs)(e.span,{\"data-line\":\"\",children:[(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#859900\"},children:\"  overflow-x\"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#657B83\"},children:\": \"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#657B83\"},children:\"hidden\"}),(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#657B83\"},children:\";\"})]}),`\n`,(0,i.jsx)(e.span,{\"data-line\":\"\",children:(0,i.jsx)(e.span,{style:{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#657B83\"},children:\"}\"})})]})})}),(0,i.jsxs)(e.p,{children:[\"This solution only makes sense if your application doesn't have to scroll horizontally (like a blog or a documentation website). And I'm using this in my blog, you can open the \",(0,i.jsx)(e.code,{children:\"devtool\"}),\" and check the \",(0,i.jsx)(e.code,{children:\"html\"}),\" styles to see it \",(0,i.jsx)(t,{emoji:\"beaming-face-with-smiling-eyes\"}),\".\"]}),(0,i.jsxs)(e.h2,{className:\"content-header\",id:\"the-no-code-way-\",children:[(0,i.jsx)(e.a,{href:\"#the-no-code-way-\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.span,{className:\"content-header-link\",children:(0,i.jsxs)(e.svg,{viewBox:\"0 0 20 20\",className:\"h-5 linkicon w-5\",fill:\"currentColor\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,i.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,i.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"The no-code way \",(0,i.jsx)(t,{emoji:\"star-struck\",size:\"base\"})]}),(0,i.jsx)(e.p,{children:\"There are 2 ways to prevent layout shift without writing any CSS code:\"}),(0,i.jsxs)(e.ul,{children:[(0,i.jsx)(e.li,{children:(0,i.jsxs)(e.p,{children:[\"The first one is to tell your users not to use \",(0,i.jsx)(e.strong,{children:\"Window\"}),\" device and to use a \",(0,i.jsx)(e.strong,{children:\"Mac\"}),\" or a \",(0,i.jsx)(e.strong,{children:\"Linux\"}),\" device instead \",(0,i.jsx)(t,{emoji:\"grinning-squinting-face\"})]})}),(0,i.jsx)(e.li,{children:(0,i.jsxs)(e.p,{children:[\"The second one is to just... leave it as it is, sometimes it's not a big deal, and your user doesn't actually care about that \",(0,i.jsx)(t,{emoji:\"man-shrugging\"})]})})]}),(0,i.jsx)(e.p,{children:\"If you have any other solutions, please let me know in the comments below.\"}),(0,i.jsxs)(e.p,{children:[\"Happy styling \",(0,i.jsx)(t,{emoji:\"clinking-beer-mugs\"})]})]})}function k(l={}){let{wrapper:e}=l.components||{};return e?(0,i.jsx)(e,{...l,children:(0,i.jsx)(c,{...l})}):c(l)}function o(l,e){throw new Error(\"Expected \"+(e?\"component\":\"object\")+\" `\"+l+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return f(A);})();\n;return Component;"
  },
  "_id": "blog/old-defaults/prevent-layout-shift-while-show-hide-scrollbar-on-window.mdx",
  "_raw": {
    "sourceFilePath": "blog/old-defaults/prevent-layout-shift-while-show-hide-scrollbar-on-window.mdx",
    "sourceFileName": "prevent-layout-shift-while-show-hide-scrollbar-on-window.mdx",
    "sourceFileDir": "blog/old-defaults",
    "contentType": "mdx",
    "flattenedPath": "blog/old-defaults/prevent-layout-shift-while-show-hide-scrollbar-on-window"
  },
  "type": "Blog",
  "readingTime": {
    "text": "3 min read",
    "minutes": 2.94,
    "time": 176400,
    "words": 588
  },
  "slug": "old-defaults/prevent-layout-shift-while-show-hide-scrollbar-on-window",
  "path": "blog/old-defaults/prevent-layout-shift-while-show-hide-scrollbar-on-window",
  "filePath": "blog/old-defaults/prevent-layout-shift-while-show-hide-scrollbar-on-window.mdx",
  "toc": [
    {
      "value": "The classic fix",
      "url": "#the-classic-fix",
      "depth": 2
    },
    {
      "value": "Using view width",
      "url": "#using-view-width",
      "depth": 2
    },
    {
      "value": "The no-code way ",
      "url": "#the-no-code-way-",
      "depth": 2
    }
  ],
  "structuredData": {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "Prevent layout shift when toggling scrollbar on Window",
    "datePublished": "2021-08-16T00:00:00.000Z",
    "dateModified": "2024-11-07T00:00:00.000Z",
    "description": "When toggling the scrollbar on the Window, the layout shifts. This is because the scrollbar is added to the Window. How to prevent this with CSS?",
    "image": "/static/images/banners/macbook-pro-on-brown-wooden-table__vinayak_125__AWSHg2mK-Ho.jpeg",
    "url": "https://www.rustyyow.com/blog/old-defaults/prevent-layout-shift-while-show-hide-scrollbar-on-window"
  }
}